	'use strict';

//MENU DESPLEGABLE

var buttonLegend = document.querySelectorAll('.openMenu');//creo un array de legends
var sectionForm = document.querySelectorAll('.boxfield');//creo un array de boxfields


for (var i = 0; i < sectionForm.length; i++) {
	buttonLegend[i].addEventListener("click", desplegarPlegar);
}

function desplegarPlegar(event) {
	// event.currentTarget muestra el fragmento de código sobre el que hago click
	var boxfieldContent = event.currentTarget.nextElementSibling;
 	// El modificador .nextElementSibling selecciona el hermano contiguo.

	console.log(boxfieldContent);

	boxfieldContent.classList.toggle('hidden');


	var iconLegend = event.currentTarget.getElementsByTagName('span');
	// Los spans del elemento seleccionado (legend) genera un array de spans que
	// contiene un elemento. Recorremos ese array con el for y le añadimos/quitamos la clase
	// btnMinus que sustituye el background del icono de la leyenda por el (-).
	for (var i = 0; i < iconLegend.length; i++) {
		iconLegend[i].classList.toggle('btnMinus');
	}
}

//Select years


var select = document.querySelectorAll('.years');


function list(firstyear, totalyears) {
	var options = '';
	for (var x = 0; x < totalyears; x++){
	options = options + '<option value="' + (firstyear + x) + '">'+(firstyear + x)+'</option>';
	}
	return options;
}
//Añadir años a los select
	for (var i = 0; i < select.length; i++){
		select[i].innerHTML=list(1950, 100);
		select[i].selectedIndex = -1;

			}


//Añadir meses a los selct
var select = document.querySelectorAll('.month');

for (var i = 0; i < select.length; i++){
	select[i].innerHTML=list(1, 12);
	select[i].selectedIndex = -1;
}


//Seleccionar estudios
var studyOptions = '';
studyOptions = studyOptions + '<option value="">Seleciona estudio</option>';
studyOptions = studyOptions + '<option value="Sin estudios">Sin estudios obligados</option>';
studyOptions = studyOptions + '<option value="Eso">ESO</option>';
studyOptions = studyOptions + '<option value="FPBasica">FP Básica</option>';
studyOptions = studyOptions + '<option value="FPMedia">FP Media</option>';
studyOptions = studyOptions + '<option value="FPSuperior">FP Superior</option>';
studyOptions = studyOptions + '<option value="Uni">Estudios universitarios</option>';
studyOptions = studyOptions + '<option value="Postgrado">Postgrado</option>';
studyOptions = studyOptions + '<option value="Estudios sin convalidar">Estudios sin convalidar</option>';

document.querySelector('.type-studies').innerHTML = studyOptions;

//Rellenar Barras Habilidades
var pb = document.querySelector('.progress-bar__item');

function archivo(evt) {
	var files = evt.target.files; // FileList object
	//Obtenemos la imagen del campo "file".
	for (var i = 0, f; f = files[i]; i++) {
		//Solo admitimos imágenes.
		if (!f.type.match('image.*')) {
			continue;
		}
		var reader = new FileReader();
		reader.onload = (function(theFile) {
			return function(e) {
				// Creamos la imagen.
				console.log("hola");
				document.querySelector(".prev-photo").innerHTML = ['<img class="thumb" width="120" height="120" src="', e.target.result,'" title="', escape(theFile.name), '"/>'].join('');
			};
		})(f);
		reader.readAsDataURL(f);
	}
}

var picButton = document.querySelector('.picture');
picButton.addEventListener('change',archivo);

'use strict';
var colors = document.querySelectorAll('.color_option');
function cleanColorClasses() {
    var previewLateral = document.querySelectorAll('.color-lateral');
        for (var i = 0; i < previewLateral.length; i++) {
        previewLateral[i].classList.remove('theme1', 'theme2', 'theme3', 'color-base');
    }
}
function applyColorLateral(event) {
    cleanColorClasses();
    var previewLateral = document.querySelectorAll('.color-lateral');
    var themeClass = event.currentTarget.getAttribute('data-theme-class');
    for (var i = 0; i < previewLateral.length; i++) {
        previewLateral[i].classList.add(themeClass);
    }
}
for (var i = 0; i < colors.length; i++) {
    colors[i].addEventListener('click', applyColorLateral);
}

/*Seleccion fuentes*/
var fonts = document.querySelectorAll('.font_option');
function cleanFontClasses() {
    var previewFont = document.querySelectorAll('.type-font');
        for (var x = 0; x < previewFont.length; x++) {
        previewFont[x].classList.remove('font1', 'font2', 'font3');
    }
}
function applyFont(event) {
    cleanFontClasses();
    var previewFont = document.querySelectorAll('.type-font');
    var fontClass = event.currentTarget.getAttribute('data-font-class');
    for (var x = 0; x < previewFont.length; x++) {
        previewFont[x].classList.add(fontClass);
    }
}

for (var x = 0; x < fonts.length; x++) {
    fonts[x].addEventListener('click', applyFont);
}
document.querySelector('.color_option').addEventListener('click', applyColorLateral);
document.querySelector('.font_option').addEventListener('click', applyFont);

'use strict';

const camposDatos = document.querySelectorAll('.personal-fields');
const previewDatos = document.querySelectorAll('.prev-contactdetails');
const buttonAddJob = document.querySelector('.add-job');
const btnAddEdu = document.querySelector('.add-edu');
const btnSavePerson = document.querySelector('.save-personal');


// RELLENAR Y AÑADIR DATOS PERSONALES
function saveNewPersonal() {
	var addPerson = '<li id="nombre" class="prev-contactdetails ">' + document.getElementById('name').value + '</li><li id="apellidos" class="prev-contactdetails">' + document.getElementById('surnames').value + '</li><li id="profesion" class="prev-contactdetails">' + document.getElementById('profession').value + '</li><li id="direccion" class="prev-contactdetails">' + document.getElementById('address').value + '</li><li id="mail" class="prev-contactdetails cut-url">' + document.getElementById('email').value +
	'</li><li id="telefono" class="prev-contactdetails cut-url">' + document.getElementById('phone').value + '</li><li class="prev-contactdetails cut-url">' + document.getElementById('twitter').value + '</li><li class="prev-contactdetails cut-url">' + document.getElementById('linkedin').value + '</li>'

	var newPerson = document.querySelector('.prev-list-personal');
	newPerson.innerHTML = addPerson;
	document.getElementById('name').value="";
	document.getElementById('surnames').value="";
	document.getElementById('profession').value="";
	document.getElementById('address').value="";
	document.getElementById('email').value="";
	document.getElementById('phone').value="";
	document.getElementById('twitter').value="";
	document.getElementById('linkedin').value="";
}

// RELLENAR Y AÑADIR EXTRACTO
function saveExtract() {
	var addExtract ='<p id="resumen" class="prev-contactdetails">' + document.getElementById('summary').value + '</p>';

	var newExtract = document.getElementById('resumen');
	newExtract.innerHTML = addExtract;
	document.getElementById('summary').value="";
}

// RELLENAR Y AÑADIR EXPERIENCIA PROFESIONAL

function saveNewJobs() {
	var addJob = '<li class="prev-jobdetails-job"><p class="camps-titles">Puesto de trabajo:</p> <span id="trabajo" class="prev-job">' + document.getElementById('job').value + '</span></li>' + '<li class="prev-jobdetails-charge"><p class="camps-titles">Cargo:</p> <span id="cargo" class="prev-job">' + document.getElementById('job-charge').value+ '</span></li>' + '<li id="jobdetails-company" class="prev-jobdetails-company"><p class="camps-titles">Empresa:</p> <span id="empresa" class="prev-job">' + document.getElementById('job-bussines').value + '</span></li>' + '<li class="prev-jobdetails-date"><ul class="prev-jobdate"><li id="jobdate-start" class="prev-jobdate-start"><p class="camps-titles">Fecha de inicio:</p> <span id="inicio-mes" class="prev-job">' + document.getElementById('job-month-start').value +
	'</span>/<span id="inicio-año" class="prev-job">' + document.getElementById('job-year-start').value +
	'</span class="prev-job"></li><li id="jobdate-end" class="prev-jobdate-end"><p class="camps-titles">Fecha de final:</p> <span id="fin-mes" class="prev-job">' +
	document.getElementById('job-month-end').value +
	'</span>/<span id="fin-año" class="prev-job">' + document.getElementById('job-year-end').value +
	'</span></li>'+
	'<li class="prev-jobdetails-description"><p class="camps-titles">Descripción del cargo:</p> <span id="descripcion-trabajo" class="prev-job">' + document.getElementById('job-extract').value +
	'</span></li>' +
	'<br>';

	var newJob = document.querySelector('.prev-jobdetails');
	newJob.innerHTML += addJob;
	document.getElementById('job').value="";
	document.getElementById('job-charge').value="";
	document.getElementById('job-bussines').value="";
	document.getElementById('job-month-start').value="";
	document.getElementById('job-year-start').value="";
	document.getElementById('job-month-end').value="";
	document.getElementById('job-year-end').value="";
	document.getElementById('job-extract').value="";
}

// RELLENAR Y AÑADIR EDUCACIÓN


function addMoreEducation () {
	var moreEducation = '<li id="educationdetails-studies" class="prev-educationdetails-studies"><p class="camps-titles">Titulación:</p> <span id="titulacion" class="prev-edu">' + document.getElementById('education-studies').value + '</span></li><li id="educationdetails-type-studies" class="prev-educationdetails-type-studies"><p class="camps-titles">Tipo de estudios:</p> <span id="tipo-estudios" class="prev-edu">'+ document.getElementById('education-type-studies').value + '</span></li><li id="educationdetails-centre" class="prev-educationdetails-centre"><p class="camps-titles">Centro de estudios:</p> <span id="centro" class="prev-edu">'+ document.getElementById('education-institution').value +'</span></li><li class="prev-educationdetails-date"><ul class="prev-educationdate"><li id="educationdate-start" class="prev-educationdate-start"><p class="camps-titles">Año de inicio:</p><span>'
	+ document.getElementById('education-year-start').value +'</span></li><li id="educationdate-end" class="prev-educationdate-end"><p class="camps-titles">Año de finalización:</p><span id="año-fin" class="prev-edu">'
	 + document.getElementById('education-year-end').value + '</span></li></ul><li id="educationdetails-description" class="prev-educationdetails-description"> <p class="camps-titles">Descripción:</p> <span id="descripcion-estudios" class="prev-edu">' + document.getElementById('education-extract').value + '</span></li><br>';

	var container = document.querySelector('.prev-education');
	container.innerHTML += moreEducation;
	document.getElementById('education-studies').value="";
	document.getElementById('education-type-studies').value="";
	document.getElementById('education-institution').value="";
	document.getElementById('education-year-start').value="";
	document.getElementById('education-year-end').value="";
	document.getElementById('education-extract').value="";

}

btnSavePerson.addEventListener('click', saveNewPersonal);
btnSavePerson.addEventListener('click', saveExtract);
buttonAddJob.addEventListener('click', saveNewJobs);
btnAddEdu.addEventListener('click', addMoreEducation);

'use strict';

var skill = document.querySelector('#skillstext');
var skillName = document.querySelector('.skill-name');
var percentage = document.querySelector('#percentage');
var progress = document.querySelector('.progress-bar__item');
var barNone = document.querySelector('.progress-bar');
var buttonAddSkills = document.querySelector('#plus');
var listSkill = document.querySelector('.skill1');
var buttonAddDetails = document.querySelector('.add-detail')


function saveNewSkill() {
	var addSkill = '<li class="skill1"><p class="skill-name">' + document.getElementById('skillstext').value + '</p><div class="progress-bar"><div class="progress-bar__item" style="width:' +  document.getElementById('percentage').value  + '%"></div></div></li>';
	var newSkill = document.querySelector('.box-skills');
	newSkill.innerHTML += addSkill;
	document.getElementById('skillstext').value = '';
	document.getElementById('percentage').value = '';
	}

	function saveNewDetails() {
		var addDetail = '<li>' + document.querySelector('.other-fields').value + '</li>';
		var newDetail = document.querySelector('.prev-other');
		newDetail.innerHTML += addDetail;
		document.getElementById('details').value = '';

		}

buttonAddSkills.addEventListener('click', saveNewSkill);
buttonAddDetails.addEventListener('click', saveNewDetails);

'use strict'

function vistaprevia() {
	var request = new XMLHttpRequest(); //hacemos la petición con AJAX
	request.open('GET', 'styles/style.css'); // abrimos la pentición (es de tipo GET y le podemos asignar tanto una URL absoluta como relativa)
	request.addEventListener('load', abrirVistaPrevia); //(evento para que llame a abrirVistaPrevia cuando la petición cargue)

	function abrirVistaPrevia() {
		var estilo = request.responseText; //variable que creamos dnd se genera el callback de la petición).
		var prtContent = document.getElementById("printcv").innerHTML; //variable dnd seleccionamos la sección de HTML a la que queremos aplicar nuestra función.

		var WinPrint = window.open('', '', 'left=0,top=0,width=800,height=900,toolbar=0,scrollbars=0,status=0'); //generamos una ventana emergente y le damos dimensiones...
		if (WinPrint != null) {
			WinPrint.document.write('<html>');
			WinPrint.document.write('<head><style type="text/css">' + estilo + '</style></head>');
			WinPrint.document.write('<body>');
			WinPrint.document.write(prtContent);
			WinPrint.document.write('</body>');
			WinPrint.document.write('</html>');
			WinPrint.document.close();
		} else {
			alert('Activa los pop-ups, alma cándida');
		} // condicional para comprobar si el bloqueo de pop-ups está activado y aviso de desactivarlo en caso afirmativo
	}

	request.send(); //envío de la petición
}


function imprimir() {
	var prtContent = document.getElementById("printcv");
	var WinPrint = window.open('', '', 'left=0,top=0,width=800,height=900,toolbar=0,scrollbars=0,status=0');
	WinPrint.document.write(prtContent.innerHTML);
	WinPrint.document.close();
	WinPrint.focus();
	WinPrint.print();
	WinPrint.close();

}

var btnPreview = document.querySelector('.preview');
btnPreview.addEventListener('click', vistaprevia);
var btnPrint = document.querySelector('.print');
btnPrint.addEventListener('click', imprimir);

//# sourceMappingURL=main.min.js.map
